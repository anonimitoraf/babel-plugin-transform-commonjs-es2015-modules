# babel-plugin-transform-commonjs-es2015-modules

CommonJS to ES2015 modules (export/import) transformation plugin for Babel

## Use Case

Converting the CommonJS-formatted scripts in `node_modules` to ES2015 Modules syntax. Then Babel can transform to other formats such as AMD, UMD, or SystemJS.

Should support most popular CommonJS patterns. Especially code generated by [Babel](https://babeljs.io/docs/plugins/transform-es2015-modules-commonjs/) (so this should work with Browserify's Babelify).

## See Also

- [cjs-to-es6](https://github.com/nolanlawson/cjs-to-es6)
- [5to6-codemod](https://github.com/5to6/5to6-codemod)
- [lebab](https://github.com/lebab/lebab)
- [cjs2es6import](https://github.com/deathcap/cjs2es6import) (and [capn](https://github.com/deathcap/capn))

## Supported Syntax

```js
// in:
var foo = require('bar');
// out:
import foo from 'bar';

// in:
var foo = require('bar').foo;
// out:
import { foo } from 'bar';

// in:
var foo = require('bar').baz;
// out:
import { baz as foo } from 'bar';

// in:
module.exports = require('foo');
// out:
export * from 'foo';

// in:
module.exports = foo;
// out:
export default foo;

// in:
module.exports.foo = require('bar');
// out:
export { default as foo } from 'bar';

// in:
module.exports.foo = bar;
// out:
export var foo = bar;

// in:
exports.foo = require('bar');
// out:
export { default as foo } from 'bar';

// in:
exports.foo = bar;
// out:
export var foo = bar;
```

## Installation

```sh
$ npm install babel-plugin-transform-commonjs-es2015-modules
```

## Usage

### Via `.babelrc` (Recommended)

**.babelrc**

```json
{
  "plugins": ["transform-commonjs-es2015-modules"]
}
```

### Via CLI

```sh
$ babel --plugins transform-commonjs-es2015-modules script.js
```

### Via Node API

```javascript
require("babel-core").transform("code", {
  plugins: ["transform-commonjs-es2015-modules"]
});
```
